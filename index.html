<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Charly ASMR</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background: black;
      color: white;
      overflow-x: hidden;
    }

    #background-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: -1;
    }

    header {
      text-align: center;
      margin-top: 2rem;
    }

    .profile-pic {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      object-fit: cover;
    }

    h1 {
      font-size: 2rem;
      background: linear-gradient(to right, red, orange, yellow, green, cyan, blue, violet);
      background-size: 300% auto;
      background-clip: text;
      color: transparent;
      animation: rainbow 5s linear infinite;
    }

    @keyframes rainbow {
      0% { background-position: 0% }
      100% { background-position: 100% }
    }

    .section {
      margin: 2rem auto;
      padding: 1rem;
      max-width: 600px;
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.05); /* más transparente aún */
      border: 1px solid rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(3px);
    }

    .section h2 {
      text-align: center;
    }

    .social-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
    }

    .social-buttons a,
    .donation-button a,
    .share-button a {
      padding: 0.7rem 1.2rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      text-decoration: none;
      color: white;
      transition: transform 0.3s ease, background 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .social-buttons a:hover,
    .donation-button a:hover,
    .share-button a:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: scale(1.05) translateY(-3px);
    }

    .donation-button,
    .share-button {
      display: flex;
      justify-content: center;
      margin-top: 1rem;
    }

    iframe {
      width: 100%;
      border-radius: 10px;
    }

    .live-preview {
      margin-top: 1rem;
      padding: 1rem;
      background: rgba(0, 0, 0, 0.25); /* más transparente */
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      position: relative;
    }

    .live-preview video,
    .live-preview iframe {
      width: 100%;
      border-radius: 10px;
    }

    .platform-logo {
      width: 30px;
    }

    .live-title {
      display: flex;
      align-items: center;
      gap: 10px;
      justify-content: center;
      margin-bottom: 0.5rem;
    }

    .logo-overlay {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 30px;
      opacity: 0.8;
    }
  </style>
</head>
<body>

<video id="background-video" autoplay loop muted>
  <source src="estrellas.mp4" type="video/mp4" />
</video>

<header>
  <img class="profile-pic" src="Imagen de WhatsApp 2025-06-02 a las 00.27.37_9baa3e65.jpg" alt="Foto de perfil" />
  <h1>Charly ASMR</h1>
</header>

<section class="section">
  <h2>Mis Redes Sociales</h2>
  <div class="social-buttons">
    <a href="https://instagram.com/charlys_asmr">Instagram</a>
    <a href="https://tiktok.com/@charly_asmr1">TikTok</a>
    <a href="https://twitch.tv/charly_asmr">Twitch</a>
    <a href="https://youtube.com/@carloserm2">YouTube</a>
    <a href="https://kick.com/charly_asmr">Kick</a>
    <a href="https://whatsapp.com/channel/0029VbAhgzu5K3zaQEXCqj3k">WhatsApp Canal</a>
  </div>
</section>

<section class="section">
  <h2>Apóyame con tu:</h2>
  <div class="donation-button">
    <a href="https://charly-erm.github.io/donaciones/">donacion Paypal / Transferencia</a>
  </div>
</section>

<section class="section">
  <h2>Último video subido a YouTube</h2>
  <iframe id="latest-video" height="315" src="" frameborder="0" allowfullscreen></iframe>
</section>

<section class="section">
  <h2 style="text-align:center">Transmisiones en Vivo</h2>

  <!-- Twitch -->
  <div class="live-preview" id="twitch-section">
    <div class="live-title"><img src="twitch-logo.png" class="platform-logo">Twitch</div>
    <img src="twitch-logo.png" class="logo-overlay">
    <video id="twitch-video" autoplay loop muted poster="poster-twitch.jpg">
      <source src="tv.mp4" type="video/mp4" />
    </video>
  </div>

  <!-- YouTube -->
  <div class="live-preview" id="youtube-section">
    <div class="live-title"><img src="youtube-logo.png" class="platform-logo">YouTube</div>
    <img src="youtube-logo.png" class="logo-overlay">
    <video id="youtube-video" autoplay loop muted poster="poster-yt.jpg">
      <source src="tv.mp4" type="video/mp4" />
    </video>
  </div>

  <!-- Kick -->
  <div class="live-preview" id="kick-section">
    <div class="live-title"><img src="kick-logo.png" class="platform-logo">Kick</div>
    <img src="kick-logo.png" class="logo-overlay">
    <video autoplay loop muted poster="poster-kick.jpg">
      <source src="tv.mp4" type="video/mp4" />
    </video>
  </div>
</section>

<section class="section">
  <h2>Comparte esta página</h2>
  <div class="share-button">
    <a href="#" onclick="navigator.share ? navigator.share({title: 'Charly ASMR', url: window.location.href}) : window.open('https://wa.me/?text=' + encodeURIComponent('Visita la página de Charly ASMR: ' + window.location.href), '_blank'); return false;">Compartir</a>
  </div>
</section>

<script>
  // YouTube último video subido
  const ytApiKey = "AIzaSyDVINaXhfUsmtB9jWTWYW-C3Oa7kDOx4w0";
  const ytChannelId = "UCSnAuq8Ay_hL9UL56jq9_hg";

  fetch(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=UU${ytChannelId.substring(2)}&maxResults=5&key=${ytApiKey}`)
    .then(response => response.json())
    .then(data => {
      const videos = data.items.filter(item => item.snippet.liveBroadcastContent !== 'live');
      if (videos.length > 0) {
        const videoId = videos[0].snippet.resourceId.videoId;
        document.getElementById("latest-video").src = `https://www.youtube.com/embed/${videoId}`;
      }
    });

  // Twitch live check
  async function checkTwitchLive() {
    const clientId = "32xfu23g976cvy3tlfif12molnr7od";
    const accessToken = "hdva03n2tnu74nyjcbe55we52lk51y";
    const username = "charly_asmr";

    const res = await fetch(`https://api.twitch.tv/helix/streams?user_login=${username}`, {
      headers: {
        "Client-ID": clientId,
        "Authorization": `Bearer ${accessToken}`
      }
    });

    const data = await res.json();
    if (data.data && data.data.length > 0) {
      const embed = document.createElement("iframe");
      embed.src = `https://player.twitch.tv/?channel=${username}&parent=charly_asmr.netlify.app&muted=true`;
      embed.height = "315";
      embed.allowFullscreen = true;
      const container = document.getElementById("twitch-section");
      container.innerHTML = `<div class="live-title"><img src="twitch-logo.png" class="platform-logo">Twitch</div>`;
      container.appendChild(embed);
    }
  }

  // YouTube live check
  async function checkYouTubeLive() {
    const ytToken = "hmka4l3hc76jd4cxm1zsd4h8f24o1r";
    const channelId = "UCSnAuq8Ay_hL9UL56jq9_hg";

    const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${channelId}&eventType=live&type=video&access_token=${ytToken}`);
    const data = await res.json();
    if (data.items && data.items.length > 0) {
      const liveVideoId = data.items[0].id.videoId;
      const embed = document.createElement("iframe");
      embed.src = `https://www.youtube.com/embed/${liveVideoId}?autoplay=1&mute=1`;
      embed.height = "315";
      embed.allowFullscreen = true;
      const container = document.getElementById("youtube-section");
      container.innerHTML = `<div class="live-title"><img src="youtube-logo.png" class="platform-logo">YouTube</div>`;
      container.appendChild(embed);
    }
  }

  checkTwitchLive();
  checkYouTubeLive();
</script>

</body>
</html>